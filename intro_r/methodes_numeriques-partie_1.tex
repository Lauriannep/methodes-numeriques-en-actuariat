\input{../share/preamble}
  \usepackage{wasysym}         % \leadsto

  %%%  Titre du document
  \parttitle{%
    \bfseries\fontsize{36}{36}\selectfont Partie I \\
    \mdseries\fontsize{32}{36}\selectfont Programmation en R}
  \hypersetup{pdftitle={Méthodes numériques en actuariat - Partie I
      Programmation en R}}

  %%% Listes de commandes
  \newenvironment{ttscript}[1]{%
    \begin{list}{}{%
        \setlength{\labelsep}{1.5ex}
        \settowidth{\labelwidth}{\fbox{\code{#1}}}
        \setlength{\leftmargin}{\labelwidth}
        \addtolength{\leftmargin}{\labelsep}
        \setlength{\parsep}{0.5ex plus0.2ex minus0.2ex}
        \setlength{\itemsep}{0.3ex}
        \renewcommand{\makelabel}[1]{\fbox{\vphantom{|}##1}\hfill}}}
    {\end{list}}

  %%% Chapitre Opérateurs: l'espacement entre les expressions R et
  %%% leur sortie est réduit pour les exemples de fonctions.
  \newlength{\compactsep} \setlength{\compactsep}{-0.5ex}
  \newlength{\normalsep}  \setlength{\normalsep}{\topsep}

  %%% Listes de structures de contrôle
  \newenvironment{struclist}{%
    \begin{description}[style=nextline,font=\mdseries\ttfamily]}
    {\end{description}}

  %%% Paramètres additionels pour sections de code source
  \lstdefinelanguage{Renhanced}[]{R}{%
    morekeywords={colMeans,colSums,head,is.na,is.null,mapply,ms,na.rm,%
      nlmin,replicate,row.names,rowMeans,rowSums,sys.time,system.time,%
      tail,which.max,which.min},
    deletekeywords={c,start},
    alsoletter={.\%},%
    alsoother={:_\$}}
  \lstset{language=Renhanced,
    index=[1][keywords],
    indexstyle=\indexfonction}

  %%% Index
  \newcommand{\bfhyperpage}[1]{\textbf{\hyperpage{#1}}}
  \renewcommand{\preindexhook}{%

    Les numéros de page en caractères gras indiquent les pages où les
    concepts sont introduits, définis ou expliqués.\vskip\onelineskip}
  \newcommand{\Index}[1]{\index{#1|bfhyperpage}}
  \newcommand{\indexargument}[1]{\index{#1@\code{#1}}}
  \newcommand{\Indexargument}[1]{\Index{#1@\code{#1}}}
  \newcommand{\indexattribut}[1]{\index{#1@\code{#1} (attribut)}}
  \newcommand{\Indexattribut}[1]{\Index{#1@\code{#1} (attribut)}}
  \newcommand{\indexclasse}[1]{\index{#1@\code{#1} (classe)}}
  \newcommand{\Indexclasse}[1]{\Index{#1@\code{#1} (classe)}}
  \newcommand{\indexfonction}[1]{\index{#1@\code{#1}}}
  \newcommand{\Indexfonction}[1]{\Index{#1@\code{#1}}}
  \newcommand{\indexmode}[1]{\index{#1@\code{#1} (mode)}}
  \newcommand{\Indexmode}[1]{\Index{#1@\code{#1} (mode)}}
  \newcommand{\indexobjet}[1]{\index{#1@\code{#1}}}
  \newcommand{\Indexobjet}[1]{\Index{#1@\code{#1}}}

  \newcommand{\attribut}[1]{\code{#1}\indexattribut{#1}}
  \newcommand{\Attribut}[1]{\code{#1}\Indexattribut{#1}}
  \newcommand{\argument}[1]{\code{#1}\indexargument{#1}}
  \newcommand{\Argument}[1]{\code{#1}\Indexargument{#1}}
  \newcommand{\classe}[1]{\code{#1}\indexclasse{#1}}
  \newcommand{\Classe}[1]{\code{#1}\Indexclasse{#1}}
  \newcommand{\fonction}[1]{\code{#1}\indexfonction{#1}}
  \newcommand{\Fonction}[1]{\code{#1}\Indexfonction{#1}}
  \newcommand{\mode}[1]{\code{#1}\indexmode{#1}}
  \newcommand{\Mode}[1]{\code{#1}\Indexmode{#1}}
  \newcommand{\objet}[1]{\code{#1}\indexobjet{#1}}
  \newcommand{\Objet}[1]{\code{#1}\Indexobjet{#1}}
  \makeindex

  \includeonly{emacs+ess,rstudio}

\begin{document}

\frontmatter

\pagestyle{empty}

%% Page couverture avant. Il faut modifier la largeur des graphiques
%% puisque Sweave la règle à 0.8\textwidth.
\setkeys{Gin}{width=\paperwidth}
\includepdf[pages=1]{couvertures-partie_1}
\setkeys{Gin}{width=0.8\textwidth}
\cleardoublepage

\include{frontispice}
\clearpage

\include{notices}              % NB: différent de Introduction à la...
\clearpage

\pagestyle{companion}

\include{introduction}         % NB: différent de Introduction à la...

\cleartorecto
\tableofcontents*

%% Vignette tirée de xkcd.com
\cleartoverso
\thispagestyle{empty}
\begin{vplace}[0.45]
  \centering
  \setkeys{Gin}{width=\textwidth}
  \begin{minipage}{351pt}
    \includegraphics{compiling.png} \\
    \footnotesize\sffamily%
    Tiré de \href{http://xkcd.com/303/}{XKCD.com}
  \end{minipage}
  \setkeys{Gin}{width=0.8\textwidth}
\end{vplace}

\mainmatter

\include{presentation}
\include{bases}
\include{operateurs}
\include{exemples}
\include{fonctions}
\include{avance}

\appendix
\include{emacs+ess}
\include{rstudio}
\include{packages}
\include{reponses}             % NB: différent de Introduction à la...

\bibliography{r,stat,informatique}

\cleardoublepage
\printindex

\cleartoverso

\input{../share/colophon}

\cleartoverso

%% Page couverture arrière.
\setkeys{Gin}{width=\paperwidth}
\includepdf[pages=2]{couvertures-partie_1}

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-engine: xetex
%%% TeX-master: t
%%% coding: utf-8
%%% End:
